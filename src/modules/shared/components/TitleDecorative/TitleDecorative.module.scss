@import '/src/modules/shared/styles/var.scss';

.wrapOuter {
    position: relative;
    max-width: fit-content;
}

.wrap {
    max-width: fit-content;

    &_shadow {
        position: absolute;
        top: 0;
        width: 100%;
        height: 100%;
        background: $background;
        overflow: hidden;

        animation: 3.2 s glitch;
        animation-timing-function: steps(2, end);
        animation-iteration-count: infinite;
        animation-direction: alternate;

        &__1 {
            left: -3px;

            .title {
                text-shadow: -2px -2px 0px $purple, 3px 3px 0px $blueLight;
            }
        }

        // &__2 {
        //     left: -5px;
        //     .title {
        //         text-shadow: 2px 0 $blueLight;
        //     }
        //     // animation: glitch-2 2s 0s linear reverse infinite;
        // }
    }

    &_1 {
        .el {
            &_1 {
                bottom: 0px;
                left: -2px;
                height: 6px;
                width: 103%;
                background: $yellow;

                clip-path: polygon(
                    0 0,
                    100% 0,
                    100% 2px,
                    45% 2px,
                    calc(45% - 4px) 100%,
                    0 100%,
                    0 0
                );
            }

            &_2 {
                bottom: 22px;
                right: -20%;
                width: 40%;
                height: 0px;
                border-top: 2px dotted $blueLight;

                @media all and (max-width: 1200px) {
                    bottom: 19px;
                }

                @media all and (max-width: 768px) {
                    bottom: 13px;
                }
            }

            &_3 {
                left: 13px;
                top: 13px;
                width: 25%;
                height: 1px;
                background: $blueLight;

                @media all and (max-width: 768px) {
                    top: 8px;
                    left: 8px;
                }
            }

            &_4 {
                right: -20%;
                top: 6px;
                height: 3px;
                width: 1px;
                background: $blueLight;
            }

            &_5 {
                right: calc(-20% - 3px - 25%);
                top: 6px;
                height: 3px;
                width: 25%;
                background: $blueLight;
            }

            &_6 {
                left: 0;
                top: 3px;
                height: 1px;
                width: 117%;
                background: rgba($color: $yellow, $alpha: 0.7);
            }

            &_7 {
                left: 2px;
                top: 0;
                height: 0px;
                width: 15px;
                border-top: 2px dashed $blueLight;
            }
        }
    }
}

.el {
    position: absolute;
}

.title {
    color: $yellow;
    line-height: 100%;
    padding: 8px 0 14px 0;

    @media all and (max-width: 768px) {
        padding: 4px 0 10px 0;
    }
}

$slice-0: inset(50% 50% 50% 50%);
$slice-1: inset(84% -6px 6% 0);
$slice-2: inset(50% -6px 30% 0);
$slice-3: inset(10% -6px 85% 0);
$slice-4: inset(40% -6px 43% 0);
$slice-5: inset(80% -6px 5% 0);

@keyframes glitch {
    0% {
        clip-path: $slice-1;
        transform: translate(-20px, -10px);
    }
    8% {
        clip-path: $slice-3;
        transform: translate(10px, 10px);
    }
    10% {
        clip-path: $slice-1;
        transform: translate(-10px, -10px);
    }
    14% {
        clip-path: $slice-3;
        transform: translate(0px, 5px);
    }
    16% {
        clip-path: $slice-2;
        transform: translate(-5px, 0px);
    }
    20% {
        clip-path: $slice-3;
        transform: translate(5px, 0px);
    }
    28% {
        clip-path: $slice-4;
        transform: translate(5px, 10px);
    }
    30% {
        clip-path: $slice-2;
        transform: translate(-10px, 10px);
    }
    32% {
        clip-path: $slice-5;
        transform: translate(20px, -10px);
    }
    38% {
        clip-path: $slice-1;
        transform: translate(-10px, 0px);
    }
    40% {
        clip-path: $slice-1;
        transform: translate(0);
    }
    42%,
    100% {
        clip-path: $slice-0;
        transform: translate(0);
    }
}
